<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Partner Fulfillment Hub | Reputifly</title>
    
    <script>document.documentElement.classList.add('dark');</script>

    <link rel="icon" href="https://reputifly.com/wp-content/uploads/2025/05/cropped-ChatGPT-Image-May-5-2025-05_26_33-AM.png" type="image/png">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: { 
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: { 
                        brand: { 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8' },
                        dark: { 800: '#1e293b', 900: '#0f172a', 950: '#020617' },
                    },
                    backgroundImage: {
                        'slick-gradient': 'linear-gradient(135deg, #3b82f6 0%, #6366f1 100%)',
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #020617; color: #f8fafc; scroll-behavior: smooth; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        .code-font { font-family: 'Menlo', 'Monaco', 'Courier New', monospace; }
        .danger-stripe {
            background-image: repeating-linear-gradient(
                45deg,
                rgba(220, 38, 38, 0.05),
                rgba(220, 38, 38, 0.05) 10px,
                rgba(220, 38, 38, 0.1) 10px,
                rgba(220, 38, 38, 0.1) 20px
            );
        }
        .modal { transition: opacity 0.2s ease; }
        .modal-content { transition: transform 0.2s ease; }
        body.modal-open { overflow: hidden; }
        .modal.hidden { opacity: 0; pointer-events: none; }
        .modal.hidden .modal-content { transform: scale(0.95); }
        .nav-item { transition: all 0.2s ease-in-out; border-left: 2px solid transparent; }
        .nav-item.active { background: rgba(255,255,255,0.05); color: white; border-left-color: #3b82f6; }
        .nav-item:hover { color: white; background: rgba(255,255,255,0.03); }
    </style>
</head>
<body class="flex h-screen overflow-hidden font-sans bg-dark-950 text-slate-200">

    <div id="mobile-overlay" onclick="toggleMenu()" class="fixed inset-0 bg-black/80 z-[60] hidden lg:hidden backdrop-blur-sm transition-opacity opacity-0"></div>

    <header class="fixed top-0 inset-x-0 h-16 bg-dark-900/80 backdrop-blur-md border-b border-white/5 flex items-center justify-between px-4 lg:px-8 z-50">
        <div class="flex items-center gap-4">
            <button onclick="toggleMenu()" class="lg:hidden p-2 -ml-2 text-slate-400 hover:text-white transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
            
            <div class="flex items-center gap-3">
                <img src="https://reputifly.com/wp-content/uploads/2025/05/cropped-reputifly-new-e1746390492876.png" alt="Reputifly" class="h-6 w-auto object-contain brightness-0 invert lg:hidden">
                <span class="font-bold text-white text-sm uppercase tracking-widest opacity-80 hidden sm:block">Partner Hub</span>
            </div>
        </div>
        <div class="flex items-center gap-3">
            <button onclick="toggleModal('code-tool')" class="flex items-center gap-2 px-4 py-2 text-xs font-bold uppercase tracking-wide bg-white/5 hover:bg-white/10 text-slate-300 border border-white/10 rounded-lg transition-all">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                <span class="hidden sm:inline">CMS Override Tool</span>
                <span class="sm:hidden">Tools</span>
            </button>
        </div>
    </header>

    <aside id="sidebar" class="fixed inset-y-0 left-0 w-72 bg-dark-950 border-r border-white/5 flex flex-col z-[70] transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out pt-16">
        <div class="p-6 pb-2">
            <img src="https://reputifly.com/wp-content/uploads/2025/05/cropped-reputifly-new-e1746390492876.png" alt="Reputifly" class="h-8 w-auto object-contain brightness-0 invert opacity-90 hover:opacity-100 transition-opacity">
        </div>

        <div class="flex-1 overflow-y-auto py-6 px-0 space-y-1" id="nav-container">
            <div class="px-6 pb-2 text-[10px] font-bold uppercase text-slate-600 tracking-widest">Core Process</div>
            
            <a href="#core-philosophy" class="nav-item active flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-400">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                The Philosophy
            </a>
            
            <a href="#the-workflow" class="nav-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-400">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                Execution Workflow
            </a>

            <div class="px-6 pt-6 pb-2 text-[10px] font-bold uppercase text-slate-600 tracking-widest">Implementation</div>

            <a href="#wp-guide" class="nav-item flex items-center gap-3 px-6 py-3 text-sm font-medium text-slate-400">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                WordPress Setup
            </a>
        </div>
        
        <div class="p-6 border-t border-white/5">
            <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                <p class="text-xs text-slate-500 font-medium">System v7.2 Active</p>
            </div>
        </div>
    </aside>

    <main class="flex-1 lg:ml-72 pt-24 px-4 pb-20 overflow-y-auto h-full bg-dark-950" id="main-content">
        <div class="max-w-4xl mx-auto space-y-16">

            <section id="core-philosophy" class="relative">
                <div class="absolute -top-20 -left-20 w-96 h-96 bg-brand-600/10 rounded-full blur-3xl pointer-events-none"></div>
                
                <h1 class="text-4xl font-extrabold mb-6 text-white tracking-tight relative z-10">Fulfillment Protocol</h1>
                <p class="text-slate-400 text-lg mb-8 leading-relaxed max-w-2xl relative z-10">
                    This is the official workflow for processing client revisions. We use a standardized <strong>"3-File System"</strong> to eliminate errors and ensure quality.
                </p>

                <div class="bg-dark-900 border border-red-500/20 rounded-2xl overflow-hidden relative z-10">
                    <div class="danger-stripe p-6">
                        <div class="flex items-start gap-5">
                            <div class="p-3 bg-red-500/10 rounded-xl flex-shrink-0 border border-red-500/20">
                                <svg class="w-8 h-8 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-red-400 mb-2">The Golden Rule: One Page Per Prompt</h3>
                                <p class="text-sm text-red-200/80 font-medium leading-relaxed">
                                    <strong>NEVER</strong> attempt to fix multiple pages (e.g., Home AND Contact) in a single prompt. 
                                    <br><br>
                                    <strong>Why?</strong> AI context windows are finite. If you feed too much code, it will "hallucinate" and delete parts of the layout. Always process one page at a time.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="the-workflow" class="space-y-8">
                <div class="flex items-center gap-3 mb-6">
                    <span class="w-8 h-8 bg-slick-gradient text-white rounded-lg flex items-center justify-center text-sm font-bold shadow-lg shadow-brand-500/20">1</span>
                    <h2 class="text-2xl font-bold text-white">Execution Workflow</h2>
                </div>

                <div class="relative pl-8 border-l-2 border-white/10 space-y-12">
                    
                    <div class="relative">
                        <span class="absolute -left-[41px] top-0 w-6 h-6 bg-dark-900 border-2 border-brand-500 rounded-full flex items-center justify-center text-[10px] font-bold text-brand-500">1</span>
                        <h3 class="text-lg font-bold text-white mb-2">Get the Code & Assets</h3>
                        <p class="text-sm text-slate-400 mb-3 leading-relaxed">
                            Navigate to the specific <strong>Client Folder</strong> in Google Drive. Identify if the code file exists there.
                        </p>
                        
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white/5 p-4 rounded-xl border border-white/10 hover:border-white/20 transition-colors">
                                <strong class="block text-emerald-400 text-sm mb-1">✅ Scenario A: File Exists</strong>
                                <p class="text-xs text-slate-400">Download the <code>.html</code> file directly from Drive.</p>
                            </div>
                            <div class="bg-white/5 p-4 rounded-xl border border-white/10 hover:border-white/20 transition-colors">
                                <strong class="block text-amber-400 text-sm mb-1">⚠️ Scenario B: Code in WP/Chat</strong>
                                <p class="text-xs text-slate-400 mb-2">If you have to copy code from WordPress, save it as a file first.</p>
                                <div class="text-[10px] text-slate-500 bg-black/20 p-2 rounded">
                                    Notepad > Paste Code > Save As > <code>index.html</code>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="relative">
                        <span class="absolute -left-[41px] top-0 w-6 h-6 bg-dark-900 border-2 border-brand-500 rounded-full flex items-center justify-center text-[10px] font-bold text-brand-500">2</span>
                        <h3 class="text-lg font-bold text-white mb-2">Upload to Gemini (The 3 Required Files)</h3>
                        <p class="text-sm text-slate-400 mb-6 leading-relaxed">
                            Open a new chat. You <strong>MUST</strong> upload these 3 files. Here is exactly what each file does:
                        </p>
                        
                        <div class="space-y-6">
                            <div class="bg-dark-900 p-6 rounded-xl border border-brand-500/30 relative overflow-hidden group shadow-lg shadow-brand-900/10">
                                <div class="flex flex-col md:flex-row md:items-center justify-between gap-6 relative z-10">
                                    <div class="flex-1">
                                        <div class="text-xs font-bold text-brand-400 mb-1 uppercase tracking-wider">File 1 (Critical)</div>
                                        <div class="text-xl font-bold text-white mb-2">!SYSTEM_PROMPT.txt</div>
                                        <p class="text-sm text-slate-400 leading-relaxed mb-2">
                                            <strong class="text-white">What is this?</strong> The "brain" that tells Gemini how to code.
                                        </p>
                                        <p class="text-xs text-slate-500">
                                            <strong class="text-slate-400">Why?</strong> Without this, the AI will delete sections, break the layout, or forget to fix the images.
                                        </p>
                                    </div>
                                    <div class="flex gap-3 md:min-w-[280px]">
                                        <button onclick="downloadSystemPrompt()" class="flex-1 py-4 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-bold transition-all shadow-lg flex flex-col items-center justify-center gap-1">
                                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4-4m0 0l-4 4m4-4v12"></path></svg>
                                            <span class="text-xs uppercase">Download File</span>
                                        </button>
                                        <button onclick="copySystemPrompt()" class="flex-1 py-4 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold transition-all shadow-lg flex flex-col items-center justify-center gap-1">
                                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>
                                            <span class="text-xs uppercase">Copy Text</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="bg-dark-900 p-5 rounded-xl border border-white/10 hover:border-emerald-500/30 transition-colors">
                                    <div class="text-xs font-bold text-emerald-400 mb-1 uppercase tracking-wider">File 2</div>
                                    <div class="text-lg font-bold text-white mb-2">Client Revision Google Document</div>
                                    <p class="text-xs text-slate-400 mb-1">
                                        <strong class="text-slate-200">What:</strong> The history of client requests.
                                    </p>
                                    <p class="text-xs text-slate-500">
                                        <strong class="text-slate-300">Why:</strong> Gemini reads the "Latest Revision" column to know exactly what text to change.
                                    </p>
                                </div>

                                <div class="bg-dark-900 p-5 rounded-xl border border-white/10 hover:border-blue-500/30 transition-colors">
                                    <div class="text-xs font-bold text-blue-400 mb-1 uppercase tracking-wider">File 3</div>
                                    <div class="text-lg font-bold text-white mb-2">Code_File.html</div>
                                    <p class="text-xs text-slate-400 mb-1">
                                        <strong class="text-slate-200">What:</strong> The actual website code file.
                                    </p>
                                    <p class="text-xs text-slate-500">
                                        <strong class="text-slate-300">Why:</strong> This is the file Gemini will edit and give back to you.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="relative">
                        <span class="absolute -left-[41px] top-0 w-6 h-6 bg-dark-900 border-2 border-brand-500 rounded-full flex items-center justify-center text-[10px] font-bold text-brand-500">3</span>
                        <h3 class="text-lg font-bold text-white mb-2">Execute the Prompt</h3>
                        <p class="text-sm text-slate-400 mb-3">Copy and paste this command exactly into the chat:</p>
                        <div class="bg-black/40 rounded-xl p-5 font-mono text-xs text-slate-300 relative group border border-white/10 shadow-lg flex flex-col md:block">
                            
                            <p id="prompt-text" class="leading-relaxed whitespace-pre-wrap pt-2 pb-2">I have attached the SYSTEM_PROMPT, the Client Revision Document, and the Code File.

1. Read the SYSTEM_PROMPT first.
2. Check the Tracker for the LATEST revision tab for the [INSERT PAGE NAME HERE] Page.
3. Apply those specific changes to the attached code file.
4. Provide the FULLY updated HTML CSS JS Combined Code.</p>
<button onclick="copyPrompt()" class="w-full md:w-auto mb-3 md:mb-0 md:absolute md:top-3 md:right-3 bg-brand-600 hover:bg-brand-500 text-white px-4 py-2 rounded-lg text-xs transition-colors border border-white/5 font-bold shadow-lg flex items-center justify-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
                                COPY PROMPT
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="wp-guide">
                <div class="flex items-center gap-3 mb-6">
                    <span class="w-8 h-8 bg-slick-gradient text-white rounded-lg flex items-center justify-center text-sm font-bold shadow-lg shadow-brand-500/20">2</span>
                    <h2 class="text-2xl font-bold text-white">WordPress Implementation Guide</h2>
                </div>

                <div class="bg-dark-900 border border-white/10 rounded-2xl overflow-hidden p-8">
                    <p class="text-sm text-slate-400 mb-8 bg-blue-500/10 border border-blue-500/20 p-4 rounded-lg flex items-center gap-3">
                        <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Follow these exact steps. Do not skip any clicks.
                    </p>
                    
                    <div class="space-y-12">
                        
                        <div class="flex items-start gap-5 relative">
                             <div class="absolute left-[19px] top-10 bottom-[-48px] w-[2px] bg-white/5 last:hidden"></div>
                             
                             <div class="flex-shrink-0 w-10 h-10 rounded-full bg-dark-800 border border-white/20 flex items-center justify-center font-bold text-white z-10 mt-1">1</div>
                             <div class="flex-1">
                                <h4 class="text-lg font-bold text-white mb-2">Create the Page</h4>
                                <div class="bg-black/30 p-4 rounded-lg border border-white/5 inline-block w-full">
                                    <span class="text-slate-500 text-xs uppercase font-bold tracking-wider block mb-2">Click Path:</span>
                                    <span class="text-white font-mono text-sm">
                                        Left Sidebar &rarr; <span class="text-brand-400">Pages</span> &rarr; Click <span class="text-brand-400">Add New</span>
                                    </span>
                                </div>
                             </div>
                        </div>

                        <div class="flex items-start gap-5 relative">
                             <div class="absolute left-[19px] top-10 bottom-[-48px] w-[2px] bg-white/5"></div>
                             
                             <div class="flex-shrink-0 w-10 h-10 rounded-full bg-dark-800 border border-white/20 flex items-center justify-center font-bold text-white z-10 mt-1">2</div>
                             <div class="flex-1">
                                <h4 class="text-lg font-bold text-white mb-2">Initial Setup</h4>
                                <div class="space-y-3 text-sm text-slate-300">
                                    <div class="flex items-start gap-3">
                                        <span class="text-brand-500 font-bold">1.</span>
                                        <span><strong>Add Title:</strong> Enter the page name at the top (e.g., "Client Name - Home").</span>
                                    </div>
                                    <div class="flex items-center gap-3">
                                        <span class="text-brand-500 font-bold">2.</span>
                                        <span>Click the large blue button: <strong class="text-white bg-blue-600 px-2 py-0.5 rounded text-xs">Edit with Elementor</strong>.</span>
                                    </div>
                                </div>
                             </div>
                        </div>

                        <div class="flex items-start gap-5 relative">
                             <div class="absolute left-[19px] top-10 bottom-[-48px] w-[2px] bg-white/5"></div>
                             
                             <div class="flex-shrink-0 w-10 h-10 rounded-full bg-dark-800 border border-white/20 flex items-center justify-center font-bold text-white z-10 mt-1">3</div>
                             <div class="flex-1">
                                <h4 class="text-lg font-bold text-white mb-2">Critical Page Settings</h4>
                                <p class="text-sm text-slate-400 mb-3">Look at the bottom left corner for the <strong>Gear Icon (⚙️)</strong>.</p>
                                
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="bg-white/5 p-4 rounded-lg border border-white/10">
                                        <strong class="text-brand-400 text-xs uppercase block mb-1">Setting 1</strong>
                                        <div class="text-white font-bold text-sm">Hide Title</div>
                                        <div class="mt-2 flex items-center gap-2">
                                            <div class="w-8 h-4 bg-green-500 rounded-full relative"><div class="absolute right-0.5 top-0.5 w-3 h-3 bg-white rounded-full"></div></div>
                                            <span class="text-xs text-green-400">Set to YES</span>
                                        </div>
                                    </div>
                                    <div class="bg-white/5 p-4 rounded-lg border border-white/10">
                                        <strong class="text-brand-400 text-xs uppercase block mb-1">Setting 2</strong>
                                        <div class="text-white font-bold text-sm">Page Layout</div>
                                        <div class="mt-2 bg-black/40 px-2 py-1 rounded text-xs text-white border border-white/10 font-mono">
                                            Elementor Full Width
                                        </div>
                                    </div>
                                </div>
                             </div>
                        </div>

                        <div class="flex items-start gap-5 relative">
                             <div class="absolute left-[19px] top-10 bottom-[-48px] w-[2px] bg-white/5"></div>
                             
                             <div class="flex-shrink-0 w-10 h-10 rounded-full bg-dark-800 border border-white/20 flex items-center justify-center font-bold text-white z-10 mt-1">4</div>
                             <div class="flex-1">
                                <h4 class="text-lg font-bold text-white mb-2">The "Zero Gap" Protocol</h4>
                                <p class="text-sm text-slate-400 mb-3">You must configure the container to remove white borders.</p>
                                
                                <div class="space-y-4 bg-white/5 p-5 rounded-xl border border-white/10">
                                    <div class="flex gap-3 items-start">
                                        <div class="text-brand-500 font-bold min-w-[15px] text-lg leading-none">A.</div>
                                        <div class="text-sm text-slate-300">Drag <strong>HTML Widget</strong> onto the page.</div>
                                    </div>
                                    <div class="flex gap-3 items-start">
                                        <div class="text-brand-500 font-bold min-w-[15px] text-lg leading-none">B.</div>
                                        <div class="text-sm text-slate-300">
                                            Click the <strong class="text-white">Pink Section Handle</strong> (Top of the box) to edit the Container.
                                        </div>
                                    </div>
                                    <div class="flex gap-3 items-start">
                                        <div class="text-brand-500 font-bold min-w-[15px] text-lg leading-none">C.</div>
                                        <div class="text-sm text-slate-300">
                                            <strong>Layout Tab:</strong><br>
                                            Content Width &rarr; <span class="text-white font-mono bg-black/30 px-1 rounded">Full Width</span><br>
                                            Columns Gap &rarr; <span class="text-white font-mono bg-black/30 px-1 rounded">No Gap</span>
                                        </div>
                                    </div>
                                    <div class="flex gap-3 items-start">
                                        <div class="text-brand-500 font-bold min-w-[15px] text-lg leading-none">D.</div>
                                        <div class="text-sm text-slate-300">
                                            <strong>Advanced Tab (Crucial):</strong><br>
                                            Padding &rarr; Unlink Values &rarr; Enter <span class="text-red-400 font-bold font-mono">-1</span> (Negative One).<br>
                                            <span class="text-xs text-slate-500 italic">This forces the HTML to touch the edges of the screen.</span>
                                        </div>
                                    </div>
                                </div>
                             </div>
                        </div>

                        <div class="flex items-start gap-5 relative">
                             <div class="absolute left-[19px] top-10 bottom-[-48px] w-[2px] bg-white/5"></div>
                             
                             <div class="flex-shrink-0 w-10 h-10 rounded-full bg-dark-800 border border-white/20 flex items-center justify-center font-bold text-white z-10 mt-1">5</div>
                             <div class="flex-1">
                                <h4 class="text-lg font-bold text-white mb-2">Paste & Align</h4>
                                <p class="text-sm text-slate-400 mb-3">Paste your code into the HTML widget box.</p>
                                <div class="bg-amber-900/20 border border-amber-500/20 p-3 rounded-lg flex gap-3 items-start">
                                    <svg class="w-5 h-5 text-amber-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                                    <div class="text-xs text-amber-200">
                                        <strong>Gap at the top?</strong><br>
                                        If there is a white gap above your design, go to <strong>Advanced > Margin > Top</strong> and enter <strong>-20</strong> or <strong>-50</strong> until it hits the top of the browser.
                                    </div>
                                </div>
                             </div>
                        </div>

                        <div class="flex items-start gap-5 relative">
                             
                             <div class="flex-shrink-0 w-10 h-10 rounded-full bg-emerald-600 border border-emerald-400 flex items-center justify-center font-bold text-white z-10 mt-1">6</div>
                             <div class="flex-1">
                                <h4 class="text-lg font-bold text-white mb-2">Preview & Publish</h4>
                                <p class="text-sm text-slate-400 mb-4">Don't guess. Check.</p>
                                
                                <div class="flex flex-wrap gap-3">
                                    <div class="flex items-center gap-3 bg-black/30 px-4 py-2 rounded-lg border border-white/10">
                                        <div class="bg-white/10 p-2 rounded-full"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg></div>
                                        <span class="text-sm font-bold text-slate-300">Click Eye Icon (Preview)</span>
                                    </div>
                                    <div class="flex items-center gap-3 bg-emerald-900/30 px-4 py-2 rounded-lg border border-emerald-500/30">
                                        <div class="bg-emerald-600 p-2 rounded-full text-white"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div>
                                        <span class="text-sm font-bold text-emerald-400">Click PUBLISH Button</span>
                                    </div>
                                </div>
                             </div>
                        </div>

                    </div>
                </div>
            </section>

        </div>
    </main>

    <div id="code-tool" class="modal hidden fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="toggleModal('code-tool')"></div>
        <div class="modal-content relative bg-dark-900 w-full max-w-4xl rounded-2xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden border border-white/10">
            <div class="flex items-center justify-between p-6 border-b border-white/10 bg-white/5">
                <div>
                    <h2 class="text-xl font-bold text-white flex items-center gap-2">
                        <div class="w-8 h-8 rounded-lg bg-slick-gradient flex items-center justify-center text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                        </div>
                        CMS Override Generator
                    </h2>
                    <p class="text-xs text-slate-400 mt-1 ml-10">Strips default CMS styles and enforces Reputifly standards.</p>
                </div>
                <button onclick="toggleModal('code-tool')" class="text-slate-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div class="flex-1 flex flex-col lg:flex-row overflow-hidden">
                <div class="flex-1 p-6 border-b lg:border-b-0 lg:border-r border-white/10 flex flex-col bg-dark-900">
                    <div class="flex justify-between items-center mb-3">
                        <label class="text-xs font-bold uppercase text-slate-500">Source Code Input</label>
                        <div class="flex gap-2">
                            <label for="fileUpload" class="cursor-pointer text-xs font-medium text-brand-400 hover:text-brand-300 bg-white/5 px-2 py-1 rounded border border-white/10 hover:border-white/20 transition-colors">
                                Upload File
                            </label>
                            <input type="file" id="fileUpload" class="hidden" onchange="handleFileUpload(this.files)">
                            <button onclick="clearInput()" class="text-xs font-medium text-red-400 hover:text-red-300 px-2 py-1 rounded hover:bg-red-500/10 transition-colors">Clear</button>
                        </div>
                    </div>
                    <div class="flex-1 relative border border-white/10 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-brand-500 transition-shadow group">
                        <textarea id="inputCode" class="w-full h-full p-4 text-xs code-font resize-none outline-none text-slate-300 placeholder-slate-600 bg-black/20" placeholder="Paste your HTML/CSS code here..."></textarea>
                    </div>
                    <button onclick="generatePrompt()" class="mt-4 w-full py-3 bg-slick-gradient hover:shadow-lg text-white rounded-lg font-bold transition-all active:scale-95 flex items-center justify-center gap-2">
                        <span>Generate Optimized Prompt</span>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    </button>
                </div>
                <div class="flex-1 p-6 flex flex-col bg-black/40">
                    <div class="flex justify-between items-center mb-3">
                        <label class="text-xs font-bold uppercase text-slate-500">AI Prompt Output</label>
                        <span id="statusBadge" class="hidden px-2 py-0.5 rounded text-[10px] font-bold bg-green-900/30 text-green-400 border border-green-800">READY</span>
                    </div>
                    <textarea id="outputPrompt" class="flex-1 border border-white/10 rounded-lg p-4 text-xs code-font resize-none outline-none text-slate-300 bg-black/20 mb-4 focus:ring-2 focus:ring-brand-500" readonly placeholder="The optimized prompt will appear here..."></textarea>
                    <div class="flex gap-3">
                        <button onclick="downloadZip()" class="flex-1 py-2.5 bg-white/5 border border-white/10 text-slate-300 rounded-lg text-sm font-medium hover:bg-white/10 transition-colors flex items-center justify-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4-4m0 0l-4 4m4-4v12"></path></svg>
                            Download ZIP
                        </button>
                        <button id="copyBtn" onclick="copyToClipboard()" class="flex-1 py-2.5 bg-brand-600 text-white rounded-lg text-sm font-medium hover:bg-brand-500 transition-colors flex items-center justify-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
                            Copy Prompt
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- CONSTANTS ---
        const SYSTEM_PROMPT_CONTENT = `AGE FORMATTING (CRITICAL):

You must convert every Google Drive link (format: drive.google.com/file/d/ID/view) found in the tracker into this exact HTML format:<img src="https://drive.google.com/thumbnail?id=ID&sz=w1200" alt="Description">Never use the original Drive 'view' link in the source.
Look for the latest revision row (the highest number).

IF the 'Changes' or 'Requirement' column for that revision is blank: STOP.
Do not output any code. Simply state 'No new revisions found for this project.'
IF there is text: Proceed to the next steps.

CODE UPDATE:

Implement all requests from that latest revision into the current code.
Maintain all existing functionality unless explicitly told to remove it.`;

        // 1. Mobile Menu Logic
        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            const isClosed = sidebar.classList.contains('-translate-x-full');
            
            if (isClosed) {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => overlay.classList.remove('opacity-0'), 10);
                document.body.style.overflow = 'hidden';
            } else {
                closeMenuOnMobile();
            }
        }

        function closeMenuOnMobile() {
            if (window.innerWidth >= 1024) return;
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('opacity-0');
            setTimeout(() => overlay.classList.add('hidden'), 300);
            document.body.style.overflow = '';
        }

        // 2. ScrollSpy & Active Tab Logic
        document.addEventListener('DOMContentLoaded', () => {
            const mainContent = document.getElementById('main-content');
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-item');

            const updateActiveState = () => {
                let currentSection = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (mainContent.scrollTop >= (sectionTop - 150)) {
                        currentSection = section.getAttribute('id');
                    }
                });
                navLinks.forEach(link => {
                    link.classList.remove('active', 'text-white');
                    link.classList.add('text-slate-400');
                    const svg = link.querySelector('svg');
                    if(svg) svg.classList.remove('text-brand-500');

                    if (link.getAttribute('href') === `#${currentSection}`) {
                        link.classList.add('active', 'text-white');
                        link.classList.remove('text-slate-400');
                        if(svg) svg.classList.add('text-brand-500');
                    }
                });
            };

            mainContent.addEventListener('scroll', updateActiveState);
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    if(window.innerWidth < 1024) toggleMenu();
                });
            });
        });

        // 3. Modal Logic
        function toggleModal(id) {
            const modal = document.getElementById(id);
            if (modal.classList.contains('hidden')) {
                modal.classList.remove('hidden');
                document.body.classList.add('modal-open');
            } else {
                modal.classList.add('hidden');
                document.body.classList.remove('modal-open');
            }
        }

        // 4. System Prompt Download/Copy Logic
        function downloadSystemPrompt() {
            const blob = new Blob([SYSTEM_PROMPT_CONTENT], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = '!SYSTEM_PROMPT.txt';
            link.click();
        }

        function copySystemPrompt() {
            navigator.clipboard.writeText(SYSTEM_PROMPT_CONTENT).then(() => {
                alert("System Prompt copied to clipboard!");
            });
        }

        // 5. Workflow Copy Logic
        function copyPrompt() {
            const text = document.getElementById('prompt-text').innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert("Standard Prompt copied to clipboard!");
            });
        }

        // 6. OVERRIDE GENERATOR LOGIC
        const WRAPPER_ID = 'cms-override-wrapper';
        const dropZone = document.getElementById('dropZone');
        const inputCode = document.getElementById('inputCode');

        // Drag & Drop
        if (dropZone) {
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropZone.parentElement.addEventListener(eventName, preventDefaults, false);
            });
            dropZone.parentElement.addEventListener('dragenter', () => dropZone.style.opacity = '1');
            dropZone.parentElement.addEventListener('dragleave', () => dropZone.style.opacity = '0');
            dropZone.parentElement.addEventListener('drop', handleDrop);
        }

        function preventDefaults(e) { e.preventDefault(); e.stopPropagation(); }
        function handleDrop(e) {
            dropZone.style.opacity = '0';
            const dt = e.dataTransfer;
            handleFileUpload(dt.files);
        }

        function handleFileUpload(files) {
            if (files.length > 0) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    inputCode.value = e.target.result;
                    generatePrompt();
                };
                reader.readAsText(files[0]);
            }
        }

        function generatePrompt() {
            let code = inputCode.value;
            if (!code.trim()) { alert("Please paste code first."); return; }
            code = code.replace(/`/g, '\\`').replace(/\${/g, '\\${');

            const prompt = `
I am migrating this code to a managed CMS (like WordPress) that has aggressive default styles.
I need you to give me the **UPDATED FULL CODE**.

### 1. FORCE OVERRIDE STRATEGY (CRITICAL)
* **Wrap:** Enclose the entire body content in a specific ID: \`#${WRAPPER_ID}\`.
* **Tailwind Config:** Add the script: \`tailwind.config = { important: '#${WRAPPER_ID}', ... }\`.
* **CSS Nuclear Reset:** Add a \`<style>\` block scoped to \`#${WRAPPER_ID}\` that uses \`!important\` to strip CMS themes:
    * Reset borders, backgrounds, outlines, and box-shadows on buttons/inputs.
    * Remove default focus rings and text decorations.
    * Links: Remove text-decoration and border-bottoms.
    * Headings: Reset margins and line-heights.

### 2. IMAGE & MEDIA SAFETY
* **Hard-Code Dimensions:** Add explicit Tailwind classes (e.g., \`h-10 w-auto\`) to ALL \`<img>\` tags. Never rely on "auto" alone.

### 3. CONTENT PRESERVATION
* **Zero Data Loss:** Do NOT summarize or remove sections.
* **Icons:** Replace ANY text emojis with inline SVG icons.
* **Adaptive Styling:** If raw HTML inputs exist, force style them using the project's color palette (e.g., primary blue) so they don't revert to browser defaults.

**Here is the source code:**

\`\`\`html
${code}
\`\`\`
            `;

            document.getElementById('outputPrompt').value = prompt.trim();
            document.getElementById('statusBadge').classList.remove('hidden');
        }

        function clearInput() {
            inputCode.value = '';
            document.getElementById('outputPrompt').value = '';
            document.getElementById('statusBadge').classList.add('hidden');
        }

        function copyToClipboard() {
            const outputText = document.getElementById('outputPrompt');
            if (!outputText.value) return;
            outputText.select(); document.execCommand('copy');
            
            const btn = document.getElementById('copyBtn');
            const originalHtml = btn.innerHTML;
            btn.innerHTML = `<span class="flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Copied!</span>`;
            btn.classList.remove('bg-brand-600', 'hover:bg-brand-500');
            btn.classList.add('bg-emerald-600', 'hover:bg-emerald-700');
            
            setTimeout(() => {
                btn.innerHTML = originalHtml;
                btn.classList.add('bg-brand-600', 'hover:bg-brand-500');
                btn.classList.remove('bg-emerald-600', 'hover:bg-emerald-700');
            }, 2000);
        }

        function downloadZip() {
            const promptContent = document.getElementById('outputPrompt').value;
            if (!promptContent) { alert("Generate prompt first."); return; }
            const zip = new JSZip();
            zip.file("prompt.txt", promptContent);
            zip.generateAsync({type:"blob"}).then(c => saveAs(c, "reputifly_override.zip"));
        }
    </script>
</body>
</html>
