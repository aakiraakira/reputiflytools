<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reputifly | Ecosystem</title>

  <!-- Same stack as your kit.html (Tailwind + Inter + Space Grotesk + Feather) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/feather-icons"></script>

  <style>
    :root{
      --bg-deep:#0B0A14;
      --accent-primary:#E6397F;
      --accent-secondary:#FF8A00;

      --text-main:#F0F0F0;
      --muted:rgba(240,240,240,.68);

      --glass-border:rgba(255,255,255,.08);
      --glass-bg:rgba(20,20,30,.60);

      --page-pad: clamp(18px, 2.2vw, 40px);
      --max-w: 1780px;

      --col-w: clamp(320px, 26vw, 480px);
      --gap-x: clamp(18px, 2.6vw, 52px);
      --gap-y: clamp(16px, 2.0vw, 34px);

      --core-size: clamp(260px, 20vw, 360px);
    }

    body{
      background: var(--bg-deep);
      color: var(--text-main);
      font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
      overflow-y: auto;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      position: relative;
    }

    ::selection{ background: var(--accent-primary); color:#fff; }
    h1,h2,h3,.brand-font{ font-family:"Space Grotesk", system-ui, sans-serif; letter-spacing:-0.02em; }

    .ambient-glow{
      position: fixed;
      width: 620px;
      height: 620px;
      border-radius: 50%;
      pointer-events: none;
      z-index: -2;
      filter: blur(88px);
      animation: drift 22s infinite alternate;
      opacity: .95;
    }
    .glow-1{
      top: -220px;
      left: -120px;
      background: radial-gradient(circle, rgba(230,57,127,0.15) 0%, transparent 70%);
    }
    .glow-2{
      bottom: -240px;
      right: -140px;
      background: radial-gradient(circle, rgba(255,138,0,0.11) 0%, transparent 70%);
    }
    @keyframes drift{
      0%{ transform: translate(0,0); }
      100%{ transform: translate(34px,58px); }
    }

    .page{
      width: min(var(--max-w), calc(100vw - (var(--page-pad) * 2)));
      margin: 0 auto;
      padding: var(--page-pad) 0;
    }

    .diagram{
      position: relative;
      width: 100%;
      min-height: 820px;
    }

    #wires{
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }

    .map{
      position: relative;
      z-index: 1;

      display: grid;
      grid-template-columns: var(--col-w) 1fr var(--col-w);
      grid-template-rows: auto auto;
      grid-template-areas:
        "services core subsidiary"
        "software core network";

      gap: var(--gap-y) var(--gap-x);
      align-items: stretch;
    }

    .glass{
      background: var(--glass-bg);
      backdrop-filter: blur(24px);
      -webkit-backdrop-filter: blur(24px);
      border: 1px solid var(--glass-border);
      border-top: 1px solid rgba(255,255,255,.15);
      box-shadow: 0 30px 60px -12px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.05);
      border-radius: 20px;
      transition: transform .28s cubic-bezier(.2,.8,.2,1), border-color .22s ease, box-shadow .22s ease;
    }
    .glass:hover{
      border-color: rgba(255,255,255,.20);
      transform: translateY(-2px);
      box-shadow: 0 42px 86px -16px rgba(0,0,0,.62), inset 0 1px 0 rgba(255,255,255,.05);
    }

    .node{ padding: 22px; }

    .nodeHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      margin-bottom: 14px;
    }

    .nodeTitle{
      display:flex;
      align-items:center;
      gap: 10px;
      font-size: 12px;
      font-weight: 800;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: rgba(240,240,240,.78);
    }

    .iconChip{
      width: 34px;
      height: 34px;
      border-radius: 12px;
      display:flex;
      align-items:center;
      justify-content:center;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .iconChip i{ width: 16px; height: 16px; opacity: .92; }

    .chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 9999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: rgba(240,240,240,.78);
      font-size: 12px;
      font-weight: 700;
      white-space: nowrap;
    }
    .dot{
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--accent-primary);
      box-shadow: 0 0 18px rgba(230,57,127,.30);
    }
    .dot.orange{
      background: var(--accent-secondary);
      box-shadow: 0 0 18px rgba(255,138,0,.26);
    }

    .row{
      display:flex;
      align-items:flex-start;
      gap: 12px;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.06);
      background: rgba(255,255,255,.03);
      transition: border-color .18s ease, background .18s ease;
    }
    .row:hover{
      border-color: rgba(255,255,255,.12);
      background: rgba(255,255,255,.045);
    }

    /* âœ… no-icon rows (for Services + Software Suite) */
    .row.noIcon{
      gap: 0;
      padding: 14px 14px;
    }

    .label{
      font-weight: 800;
      color: rgba(240,240,240,.92);
      line-height: 1.2;
    }
    .desc{
      margin-top: 3px;
      font-size: 12px;
      color: rgba(240,240,240,.62);
      line-height: 1.45;
      max-width: 54ch;
    }

    .servicesGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .softwareGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    #services{ grid-area: services; }
    #software{ grid-area: software; }
    #subsidiary{ grid-area: subsidiary; }
    #network{ grid-area: network; }

    .coreWrap{
      grid-area: core;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .coreCard{
      width: var(--core-size);
      height: var(--core-size);
      padding: 18px;
      border-radius: 22px;
      display:flex;
      align-items:center;
      justify-content:center;
      position: relative;
      overflow: hidden;
    }
    .coreCard::before{
      content:"";
      position:absolute;
      inset:-140px;
      background:
        radial-gradient(circle at 35% 35%, rgba(230,57,127,.10) 0%, transparent 55%),
        radial-gradient(circle at 70% 70%, rgba(255,138,0,.08) 0%, transparent 55%);
      opacity: .85;
      pointer-events:none;
    }
    .coreInner{
      position: relative;
      z-index: 1;
      display:flex;
      flex-direction: column;
      align-items:center;
      gap: 12px;
      text-align:center;
    }
    .wordmark{
      height: 34px;
      width: auto;
      filter: brightness(1.12);
      opacity: .98;
    }
    .corePills{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content:center;
    }

    .wireGlow{
      fill:none;
      stroke: rgba(255,255,255,.06);
      stroke-width: 7;
      stroke-linecap: round;
      stroke-linejoin: round;
      filter: blur(1px);
      opacity: .85;
      transition: opacity .18s ease, stroke .18s ease;
    }
    .wire{
      fill:none;
      stroke: rgba(255,255,255,.10);
      stroke-width: 2.2;
      stroke-linecap: round;
      stroke-linejoin: round;
      opacity: .95;
      transition: stroke .18s ease, opacity .18s ease, filter .18s ease, stroke-width .18s ease;
    }
    .wire.active{
      stroke: url(#wireGrad);
      opacity: 1;
      stroke-width: 2.8;
      filter: drop-shadow(0 0 10px rgba(230,57,127,.18));
    }
    .wireGlow.active{
      stroke: url(#wireGradSoft);
      opacity: 1;
    }

    @media (max-width: 1024px){
      .diagram{ min-height: auto; }
      #wires{ display:none; }
      .map{
        grid-template-columns: 1fr;
        grid-template-rows: auto;
        grid-template-areas:
          "core"
          "services"
          "software"
          "subsidiary"
          "network";
      }
      .servicesGrid{ grid-template-columns: 1fr; }
      .coreCard{ width: min(360px, 100%); height: min(360px, 100%); }
    }

    @media (max-width: 1200px){
      .servicesGrid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="ambient-glow glow-1"></div>
  <div class="ambient-glow glow-2"></div>

  <div class="page">
    <div id="diagram" class="diagram">
      <svg id="wires" aria-hidden="true">
        <defs>
          <linearGradient id="wireGrad" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="var(--accent-primary)" stop-opacity="0.95"/>
            <stop offset="100%" stop-color="var(--accent-secondary)" stop-opacity="0.92"/>
          </linearGradient>
          <linearGradient id="wireGradSoft" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%" stop-color="var(--accent-primary)" stop-opacity="0.20"/>
            <stop offset="100%" stop-color="var(--accent-secondary)" stop-opacity="0.18"/>
          </linearGradient>
        </defs>
      </svg>

      <div class="map">
        <!-- SERVICES -->
        <section id="services" class="glass node" tabindex="0" data-node="services" aria-label="Services">
          <div class="nodeHeader">
            <div class="nodeTitle">
              <span class="iconChip"><i data-feather="briefcase"></i></span>
              Services
            </div>
            <span class="chip"><span class="dot"></span> Revenue</span>
          </div>

          <div class="servicesGrid">
            <div class="row noIcon">
              <div>
                <div class="label">Website Design</div>
                <div class="desc">Custom builds, conversion-first UI.</div>
              </div>
            </div>

            <div class="row noIcon">
              <div>
                <div class="label">SEO</div>
                <div class="desc">Compounding organic growth layer.</div>
              </div>
            </div>

            <div class="row noIcon">
              <div>
                <div class="label">SEM</div>
                <div class="desc">Paid acquisition and demand capture.</div>
              </div>
            </div>

            <div class="row noIcon">
              <div>
                <div class="label">SaaS</div>
                <div class="desc">Recurring software value stack.</div>
              </div>
            </div>
          </div>
        </section>

        <!-- SOFTWARE SUITE -->
        <section id="software" class="glass node" tabindex="0" data-node="software" aria-label="Software Suite">
          <div class="nodeHeader">
            <div class="nodeTitle">
              <span class="iconChip"><i data-feather="cpu"></i></span>
              Software Suite
            </div>
            <span class="chip"><span class="dot orange"></span> Automation</span>
          </div>

          <div class="softwareGrid">
            <div class="row noIcon">
              <div>
                <div class="label">Nexus</div>
                <div class="desc">Lead capture, portal, analytics.</div>
              </div>
            </div>

            <div class="row noIcon">
              <div>
                <div class="label">Forge</div>
                <div class="desc">Brand kit systemization.</div>
              </div>
            </div>

            <div class="row noIcon">
              <div>
                <div class="label">Prism</div>
                <div class="desc">Web dev automation workflows.</div>
              </div>
            </div>

            <div class="row noIcon">
              <div>
                <div class="label">Notes</div>
                <div class="desc">Knowledge engine note app.</div>
              </div>
            </div>
          </div>
        </section>

        <!-- CORE -->
        <section class="coreWrap" tabindex="0" data-node="core" aria-label="Reputifly">
          <div id="core" class="glass coreCard">
            <div class="coreInner">
              <img class="wordmark" src="https://reputifly.com/wp-content/uploads/2025/05/cropped-reputifly-new-e1746390492876.png" alt="Reputifly" />
              <div class="corePills" aria-hidden="true">
                <span class="chip"><span class="dot"></span> Services</span>
                <span class="chip"><span class="dot orange"></span> SaaS</span>
                <span class="chip"><span class="dot"></span> Distribution</span>
              </div>
            </div>
          </div>
        </section>

        <!-- SUBSIDIARY -->
        <section id="subsidiary" class="glass node" tabindex="0" data-node="subsidiary" aria-label="Subsidiary">
          <div class="nodeHeader">
            <div class="nodeTitle">
              <span class="iconChip"><i data-feather="shield"></i></span>
              Subsidiary
            </div>
            <span class="chip"><span class="dot"></span> Market</span>
          </div>

          <div class="row">
            <div class="mini"><i data-feather="star"></i></div>
            <div>
              <div class="label">BuyReviewSG</div>
              <div class="desc">Largest provider in Singapore, intent-traffic leader.</div>
            </div>
          </div>

          <div style="margin-top: 14px; display:grid; gap:10px;">
            <div class="row" style="padding:10px 12px;">
              <div style="width:8px;height:8px;border-radius:999px;background:rgba(255,255,255,.30);margin-top:6px;"></div>
              <div style="color:rgba(240,240,240,.72); font-weight:700;">Largest provider in SG</div>
            </div>
            <div class="row" style="padding:10px 12px;">
              <div style="width:8px;height:8px;border-radius:999px;background:rgba(255,255,255,.30);margin-top:6px;"></div>
              <div style="color:rgba(240,240,240,.72); font-weight:700;">~95% of search traffic in category terms</div>
            </div>
            <div class="row" style="padding:10px 12px;">
              <div style="width:8px;height:8px;border-radius:999px;background:rgba(255,255,255,.30);margin-top:6px;"></div>
              <div style="color:rgba(240,240,240,.72); font-weight:700;">5,000+ members, all local</div>
            </div>
          </div>
        </section>

        <!-- NETWORK LAYER -->
        <section id="network" class="glass node" tabindex="0" data-node="network" aria-label="Network Layer">
          <div class="nodeHeader">
            <div class="nodeTitle">
              <span class="iconChip"><i data-feather="users"></i></span>
              Network Layer
            </div>
            <span class="chip"><span class="dot orange"></span> Fulfillment</span>
          </div>

          <div style="display:grid; gap:12px;">
            <div class="row">
              <div class="mini"><i data-feather="message-circle"></i></div>
              <div>
                <div class="label">Reviewer Network</div>
                <div class="desc">Local pool coordinated via Telegram.</div>
              </div>
            </div>

            <div class="row">
              <div class="mini"><i data-feather="check-circle"></i></div>
              <div>
                <div class="label">Quality Control</div>
                <div class="desc">Verification, tracking, safeguards.</div>
              </div>
            </div>

            <div class="row">
              <div class="mini"><i data-feather="bar-chart-2"></i></div>
              <div>
                <div class="label">Priority Scoring</div>
                <div class="desc">Ranks clients to maximize renewals.</div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script>
    feather.replace();

    // SVG wires (unchanged)
    const diagram = document.getElementById("diagram");
    const svg = document.getElementById("wires");

    const nodes = {
      core: document.getElementById("core"),
      services: document.getElementById("services"),
      software: document.getElementById("software"),
      subsidiary: document.getElementById("subsidiary"),
      network: document.getElementById("network"),
    };

    const edges = [
      { id:"services-core",   from:"services",   to:"core", sideFrom:"right", yFrom:0.50, sideTo:"left",  yTo:0.38 },
      { id:"software-core",   from:"software",   to:"core", sideFrom:"right", yFrom:0.50, sideTo:"left",  yTo:0.62 },
      { id:"subsidiary-core", from:"subsidiary", to:"core", sideFrom:"left",  yFrom:0.50, sideTo:"right", yTo:0.38 },
      { id:"network-core",    from:"network",    to:"core", sideFrom:"left",  yFrom:0.50, sideTo:"right", yTo:0.62 },
    ];

    const pathEls = new Map();
    const glowEls = new Map();

    function relRect(el){
      const r = el.getBoundingClientRect();
      const base = diagram.getBoundingClientRect();
      return { left:r.left-base.left, top:r.top-base.top, width:r.width, height:r.height };
    }

    function pointOn(el, side, yFrac){
      const a = relRect(el);
      const y = a.top + a.height * yFrac;
      if (side === "left")  return { x: a.left,          y };
      if (side === "right") return { x: a.left+a.width,  y };
      return { x: a.left+a.width/2, y: a.top+a.height/2 };
    }

    function bezier(p1, p2){
      const dx = p2.x - p1.x;
      const curve = Math.max(78, Math.min(150, Math.abs(dx) * 0.45));
      const c1 = { x: p1.x + (dx >= 0 ? curve : -curve), y: p1.y };
      const c2 = { x: p2.x - (dx >= 0 ? curve : -curve), y: p2.y };
      return `M ${p1.x} ${p1.y} C ${c1.x} ${c1.y}, ${c2.x} ${c2.y}, ${p2.x} ${p2.y}`;
    }

    function ensurePaths(){
      const base = diagram.getBoundingClientRect();
      svg.setAttribute("viewBox", `0 0 ${base.width} ${base.height}`);

      for (const e of edges){
        if (pathEls.has(e.id)) continue;

        const glow = document.createElementNS("http://www.w3.org/2000/svg", "path");
        glow.setAttribute("class", "wireGlow");
        glow.dataset.from = e.from;
        glow.dataset.to = e.to;

        const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
        path.setAttribute("class", "wire");
        path.dataset.from = e.from;
        path.dataset.to = e.to;

        svg.appendChild(glow);
        svg.appendChild(path);

        glowEls.set(e.id, glow);
        pathEls.set(e.id, path);
      }
    }

    function draw(){
      if (window.getComputedStyle(svg).display === "none") return;
      ensurePaths();

      for (const e of edges){
        const p1 = pointOn(nodes[e.from], e.sideFrom, e.yFrom);
        const p2 = pointOn(nodes[e.to],   e.sideTo,   e.yTo);
        const d = bezier(p1, p2);
        glowEls.get(e.id).setAttribute("d", d);
        pathEls.get(e.id).setAttribute("d", d);
      }
    }

    let pinned = null;
    function setActive(nodeId){
      const active = pinned || nodeId;
      for (const e of edges){
        const on = !!active && (e.from === active || e.to === active);
        glowEls.get(e.id)?.classList.toggle("active", on);
        pathEls.get(e.id)?.classList.toggle("active", on);
      }
    }

    Object.entries(nodes).forEach(([id, el]) => {
      el.addEventListener("mouseenter", () => setActive(id));
      el.addEventListener("mouseleave", () => setActive(null));
      el.addEventListener("click", () => {
        pinned = (pinned === id) ? null : id;
        setActive(null);
      });
    });

    const ro = new ResizeObserver(() => draw());
    ro.observe(diagram);
    window.addEventListener("load", () => { draw(); setActive(null); });
    window.addEventListener("resize", () => draw());
    window.addEventListener("scroll", () => draw(), { passive:true });
  </script>
</body>
</html>
